{"ast":null,"code":"var _class;\nimport { EventEmitter } from '@angular/core';\nimport { ActionsEnum } from 'src/app/models/EnumActions';\nimport { ResponseModelTask } from 'src/app/models/ResponseModel';\nimport { StateModel, User, UserDto } from 'src/app/models/UserModel';\nimport * as i0 from \"@angular/core\";\nimport * as i1 from \"src/app/services/userService\";\nimport * as i2 from \"primeng/api\";\nimport * as i3 from \"@angular/common\";\nimport * as i4 from \"primeng/button\";\nimport * as i5 from \"primeng/dialog\";\nimport * as i6 from \"@angular/forms\";\nimport * as i7 from \"primeng/message\";\nimport * as i8 from \"primeng/dropdown\";\nfunction TaskComponent_ng_template_1_p_message_27_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelement(0, \"p-message\", 13);\n  }\n}\nfunction TaskComponent_ng_template_1_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r4 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementStart(0, \"div\", 3)(1, \"p-dropdown\", 4);\n    i0.ɵɵlistener(\"ngModelChange\", function TaskComponent_ng_template_1_Template_p_dropdown_ngModelChange_1_listener($event) {\n      i0.ɵɵrestoreView(_r4);\n      const ctx_r3 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r3.userDtol.documentType = $event);\n    });\n    i0.ɵɵelementEnd();\n    i0.ɵɵelement(2, \"br\");\n    i0.ɵɵelementStart(3, \"div\", 5)(4, \"input\", 6);\n    i0.ɵɵlistener(\"ngModelChange\", function TaskComponent_ng_template_1_Template_input_ngModelChange_4_listener($event) {\n      i0.ɵɵrestoreView(_r4);\n      const ctx_r5 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r5.userDtol.documentNumber = $event);\n    });\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(5, \"span\");\n    i0.ɵɵtext(6, \"Documento\");\n    i0.ɵɵelementEnd()();\n    i0.ɵɵelementStart(7, \"div\", 5)(8, \"input\", 7);\n    i0.ɵɵlistener(\"ngModelChange\", function TaskComponent_ng_template_1_Template_input_ngModelChange_8_listener($event) {\n      i0.ɵɵrestoreView(_r4);\n      const ctx_r6 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r6.userDtol.firstName = $event);\n    });\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(9, \"span\");\n    i0.ɵɵtext(10, \"Nombre\");\n    i0.ɵɵelementEnd()();\n    i0.ɵɵelementStart(11, \"div\", 5)(12, \"input\", 8);\n    i0.ɵɵlistener(\"ngModelChange\", function TaskComponent_ng_template_1_Template_input_ngModelChange_12_listener($event) {\n      i0.ɵɵrestoreView(_r4);\n      const ctx_r7 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r7.userDtol.lastName = $event);\n    });\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(13, \"span\");\n    i0.ɵɵtext(14, \"Apellido\");\n    i0.ɵɵelementEnd()();\n    i0.ɵɵelementStart(15, \"div\", 5)(16, \"input\", 9);\n    i0.ɵɵlistener(\"ngModelChange\", function TaskComponent_ng_template_1_Template_input_ngModelChange_16_listener($event) {\n      i0.ɵɵrestoreView(_r4);\n      const ctx_r8 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r8.userDtol.email = $event);\n    });\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(17, \"span\");\n    i0.ɵɵtext(18, \"Email\");\n    i0.ɵɵelementEnd()();\n    i0.ɵɵelementStart(19, \"div\", 5)(20, \"input\", 10);\n    i0.ɵɵlistener(\"ngModelChange\", function TaskComponent_ng_template_1_Template_input_ngModelChange_20_listener($event) {\n      i0.ɵɵrestoreView(_r4);\n      const ctx_r9 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r9.userDtol.password = $event);\n    });\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(21, \"span\");\n    i0.ɵɵtext(22, \"Contrase\\u00F1a\");\n    i0.ɵɵelementEnd()();\n    i0.ɵɵelementStart(23, \"div\")(24, \"p-dropdown\", 11);\n    i0.ɵɵlistener(\"ngModelChange\", function TaskComponent_ng_template_1_Template_p_dropdown_ngModelChange_24_listener($event) {\n      i0.ɵɵrestoreView(_r4);\n      const ctx_r10 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r10.userDtol.role = $event);\n    });\n    i0.ɵɵelementEnd()();\n    i0.ɵɵelementStart(25, \"div\")(26, \"p-dropdown\", 11);\n    i0.ɵɵlistener(\"ngModelChange\", function TaskComponent_ng_template_1_Template_p_dropdown_ngModelChange_26_listener($event) {\n      i0.ɵɵrestoreView(_r4);\n      const ctx_r11 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r11.userDtol.state = $event);\n    });\n    i0.ɵɵelementEnd()()();\n    i0.ɵɵtemplate(27, TaskComponent_ng_template_1_p_message_27_Template, 1, 0, \"p-message\", 12);\n  }\n  if (rf & 2) {\n    const ctx_r0 = i0.ɵɵnextContext();\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngModel\", ctx_r0.userDtol.documentType)(\"options\", ctx_r0.tipeDoc)(\"virtualScroll\", true)(\"virtualScrollItemSize\", 20)(\"showClear\", true);\n    i0.ɵɵadvance(3);\n    i0.ɵɵproperty(\"ngModel\", ctx_r0.userDtol.documentNumber);\n    i0.ɵɵadvance(4);\n    i0.ɵɵproperty(\"ngModel\", ctx_r0.userDtol.firstName);\n    i0.ɵɵadvance(4);\n    i0.ɵɵproperty(\"ngModel\", ctx_r0.userDtol.lastName);\n    i0.ɵɵadvance(4);\n    i0.ɵɵproperty(\"ngModel\", ctx_r0.userDtol.email);\n    i0.ɵɵadvance(4);\n    i0.ɵɵproperty(\"ngModel\", ctx_r0.userDtol.password);\n    i0.ɵɵadvance(4);\n    i0.ɵɵproperty(\"ngModel\", ctx_r0.userDtol.role)(\"options\", ctx_r0.statusesRole)(\"virtualScroll\", true)(\"virtualScrollItemSize\", 20)(\"showClear\", true);\n    i0.ɵɵadvance(2);\n    i0.ɵɵproperty(\"ngModel\", ctx_r0.userDtol.state)(\"options\", ctx_r0.statuses)(\"virtualScroll\", true)(\"virtualScrollItemSize\", 20)(\"showClear\", true);\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngIf\", !ctx_r0.validForm);\n  }\n}\nfunction TaskComponent_ng_template_2_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r13 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementStart(0, \"button\", 14);\n    i0.ɵɵlistener(\"click\", function TaskComponent_ng_template_2_Template_button_click_0_listener() {\n      i0.ɵɵrestoreView(_r13);\n      const ctx_r12 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r12.hideDialog());\n    });\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(1, \"button\", 15);\n    i0.ɵɵlistener(\"click\", function TaskComponent_ng_template_2_Template_button_click_1_listener($event) {\n      i0.ɵɵrestoreView(_r13);\n      const ctx_r14 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r14.saveTask($event));\n    });\n    i0.ɵɵelementEnd();\n  }\n}\nconst _c0 = function () {\n  return {\n    height: \"600px\",\n    width: \"600px\"\n  };\n};\nexport class TaskComponent {\n  constructor(userService, messageService) {\n    this.userService = userService;\n    this.messageService = messageService;\n    this.closeDialog = new EventEmitter();\n    this.userDtol = new UserDto();\n    this.openDialog = false;\n    this.isEdit = false;\n    this.isAdd = false;\n    this.statusesRole = [];\n    this.tipeDoc = [];\n    this.statuses = [];\n    this.validForm = true;\n    this.token = \"\";\n    this.user = new User();\n    this.saveTask = event => {\n      if (event == null) return;\n      if (!this.validForm) return;\n      this.postSaveTask(this.userDtol);\n    };\n    this.hideDialog = () => {\n      let model = new ResponseModelTask();\n      model.openDialog = false;\n      debugger;\n      this.closeDialog.emit(model);\n    };\n    this.postSaveTask = user => {\n      user.id = this.generateUuid();\n      debugger;\n      this.userService.saveUser(user, this.token).subscribe(response => {\n        debugger;\n        if (!response) return;\n        const state = new StateModel();\n        state.action = ActionsEnum.INSERT;\n        state.value = user;\n        // this.stateService.setData(state);\n        this.messageService.add({\n          severity: response.isSuccessful ? 'success' : 'error',\n          summary: response.isSuccessful ? 'Completado' : 'error',\n          detail: response.isSuccessful ? `Se ha agregado el usuario ${user.email}` : response.errorMessage\n        });\n        this.hideDialog();\n      });\n    };\n    this.statusesRole = [{\n      value: '8013CFE1-B7D2-4795-A2FE-B21558C21C9F',\n      label: \"El Inge que toma cerveza\",\n      color: 'success'\n    }, {\n      value: '8013CFE1-B7D2-4795-A2FE-B21558C21C9F',\n      label: \"Administrador\",\n      color: 'danger'\n    }, {\n      value: '2A5591A4-68BA-4AC3-A6D2-447E1D70ABA7',\n      label: \"Default\",\n      color: 'warning'\n    }];\n    this.statuses = [{\n      value: true,\n      label: \"Activo\",\n      color: 'success'\n    }, {\n      value: false,\n      label: \"Inactivo\",\n      color: 'danger'\n    }];\n    this.tipeDoc = [{\n      value: \"CC\",\n      label: \"Cédula\",\n      color: 'danger'\n    }, {\n      value: \"CE\",\n      label: \"Cédula de extranjería\",\n      color: 'success'\n    }, {\n      value: \"PA\",\n      label: \"Pasaporte\",\n      color: 'danger'\n    }];\n  }\n  ngOnInit() {}\n  generateUuid() {\n    return \"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx\".replace(/[xy]/g, function (c) {\n      var r = Math.random() * 16 | 0,\n        v = c == \"x\" ? r : r & 0x3 | 0x8;\n      return v.toString(16);\n    });\n  }\n}\n_class = TaskComponent;\n_class.ɵfac = function TaskComponent_Factory(t) {\n  return new (t || _class)(i0.ɵɵdirectiveInject(i1.userService), i0.ɵɵdirectiveInject(i2.MessageService));\n};\n_class.ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n  type: _class,\n  selectors: [[\"ta-app-task\"]],\n  inputs: {\n    userDtol: \"userDtol\",\n    openDialog: \"openDialog\",\n    isEdit: \"isEdit\",\n    isAdd: \"isAdd\",\n    token: \"token\"\n  },\n  outputs: {\n    closeDialog: \"closeDialog\"\n  },\n  decls: 3,\n  vars: 5,\n  consts: [[\"header\", \"Ingresar Usuario\", \"styleClass\", \"p-fluid\", 3, \"visible\", \"modal\"], [\"pTemplate\", \"content\"], [\"pTemplate\", \"footer\"], [2, \"display\", \"grid\", \"gap\", \"10px\", \"padding\", \"20px\"], [\"placeholder\", \"Tipo de documento\", 3, \"ngModel\", \"options\", \"virtualScroll\", \"virtualScrollItemSize\", \"showClear\", \"ngModelChange\"], [1, \"inputbox\"], [\"type\", \"text\", \"maxlength\", \"20\", \"pInputText\", \"\", \"id\", \"DocumentNumber\", \"required\", \"\", \"autofocus\", \"\", 3, \"ngModel\", \"ngModelChange\"], [\"type\", \"text\", \"maxlength\", \"100\", \"pInputText\", \"\", \"id\", \"FirstName\", \"required\", \"\", \"autofocus\", \"\", 3, \"ngModel\", \"ngModelChange\"], [\"type\", \"text\", \"maxlength\", \"100\", \"pInputText\", \"\", \"id\", \"LastName\", \"required\", \"\", \"autofocus\", \"\", 3, \"ngModel\", \"ngModelChange\"], [\"type\", \"text\", \"maxlength\", \"100\", \"pInputText\", \"\", \"id\", \"Email\", \"required\", \"\", \"autofocus\", \"\", 3, \"ngModel\", \"ngModelChange\"], [\"type\", \"password\", \"maxlength\", \"100\", \"pInputText\", \"\", \"id\", \"Password\", \"required\", \"\", \"autofocus\", \"\", 3, \"ngModel\", \"ngModelChange\"], [\"placeholder\", \"Seleccione el estado\", 3, \"ngModel\", \"options\", \"virtualScroll\", \"virtualScrollItemSize\", \"showClear\", \"ngModelChange\"], [\"severity\", \"error\", \"text\", \"Debe ingresar datos\", 4, \"ngIf\"], [\"severity\", \"error\", \"text\", \"Debe ingresar datos\"], [\"pButton\", \"\", \"pRipple\", \"\", \"label\", \"Cancelar\", \"icon\", \"pi pi-times\", 1, \"p-button-text\", 3, \"click\"], [\"pButton\", \"\", \"pRipple\", \"\", \"label\", \"Guardar\", \"icon\", \"pi pi-check\", 1, \"p-button-text\", 3, \"click\"]],\n  template: function TaskComponent_Template(rf, ctx) {\n    if (rf & 1) {\n      i0.ɵɵelementStart(0, \"p-dialog\", 0);\n      i0.ɵɵtemplate(1, TaskComponent_ng_template_1_Template, 28, 21, \"ng-template\", 1);\n      i0.ɵɵtemplate(2, TaskComponent_ng_template_2_Template, 2, 0, \"ng-template\", 2);\n      i0.ɵɵelementEnd();\n    }\n    if (rf & 2) {\n      i0.ɵɵstyleMap(i0.ɵɵpureFunction0(4, _c0));\n      i0.ɵɵproperty(\"visible\", ctx.openDialog)(\"modal\", true);\n    }\n  },\n  dependencies: [i3.NgIf, i2.PrimeTemplate, i4.ButtonDirective, i5.Dialog, i6.DefaultValueAccessor, i6.NgControlStatus, i6.RequiredValidator, i6.MaxLengthValidator, i6.NgModel, i7.UIMessage, i8.Dropdown],\n  styles: [\".inputbox[_ngcontent-%COMP%] {\\n  position: relative;\\n  width: 100%;\\n  height: 50px;\\n  margin-bottom: 20px;\\n}\\n.inputbox[_ngcontent-%COMP%]   input[_ngcontent-%COMP%] {\\n  position: absolute;\\n  top: 0;\\n  left: 0;\\n  width: 100%;\\n  border: 2px solid #000;\\n  outline: none;\\n  background: none;\\n  padding: 10px;\\n  border-radius: 10px;\\n  font-size: 1.2em;\\n}\\n.inputbox[_ngcontent-%COMP%]:last-child {\\n  margin-bottom: 0;\\n} .inputbox[_ngcontent-%COMP%]   span[_ngcontent-%COMP%] {\\n  position: absolute;\\n  top: 14px;\\n  left: 20px;\\n  font-size: 1em;\\n  transition: 0.6s;\\n  font-family: sans-serif;\\n}\\n.inputbox[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]:focus    ~ span[_ngcontent-%COMP%], .inputbox[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]:valid    ~ span[_ngcontent-%COMP%] {\\n  transform: translateX(-13px) translateY(-35px);\\n  font-size: 1em;\\n}\\n.inputbox[_ngcontent-%COMP%]   [type=\\\"button\\\"][_ngcontent-%COMP%] {\\n  width: 50%;\\n  background: dodgerblue;\\n  color: #fff;\\n  border: #fff;\\n}\\n.inputbox[_ngcontent-%COMP%]:hover   [type=\\\"button\\\"][_ngcontent-%COMP%] {\\n  background: linear-gradient(45deg, greenyellow, dodgerblue);\\n}\"]\n});","map":null,"metadata":{},"sourceType":"module","externalDependencies":[]}